<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charCài Đặt="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
    <link rel="stylesheet" href="/css/home_style.css" />
    <link rel="stylesheet" href="/css/responsive.css" />
    <script src="socket.io/socket.io.js"></script>
    <script src="/js/chart_min.js"></script>
    <script src="/js/fontawesome.js"  crossorigin="anonymous"></script>
    <title>Lưu Foam</title>

    <!-- ////////////// CÁC KHỐI CHƯƠNG TRÌNH CON //////////////-->
<script>
  // Chương trình con đọc dữ liệu lên IO Field
  function fn_IOFieldDataShow(tag, IOField, tofix){
      socket.on(tag,function(data){
          if(tofix == 0){
              document.getElementById(IOField).value = data;
          } else{
          document.getElementById(IOField).value = data.toFixed(tofix);
          }
      });
  }
</script>

  </head>
  <script>
    var socket = io(document.location.host);
  </script>
  <body>
    <%- include('header.ejs'); -%>
    <div class="home_container">
      <div class="home_system">
        <div class="system_item">
          <div class="system_item-air">
            <div class="item_air-title">
              <h2>Thông Số Phòng</h2>
            </div>
            <div class="item_air-tem">
              <h2>Nhiệt Độ</h2>
              <div class="item_air-data">
                <label for="">Thực Tế</label>
                <input id="nhiet_do" disabled="disabled" type="text" />
                <script>fn_IOFieldDataShow("Nhiet_do", "nhiet_do", 0)</script>
              </div>
            </div>
            <div class="item_air-tem">
              <h2>Độ Ẩm</h2>
              <div class="item_air-data">
                <label for="">Thực Tế</label>
                <input id="do_am" disabled="disabled" type="text" />
                <script>fn_IOFieldDataShow("Do_am", "do_am", 0)</script>
              </div>
            </div>
          </div>
        </div>
        <div class="system_item">
          <div class="system_item-air">
            <div class="item_air-title">
              <h2>Điều Hòa 1</h2>
            </div>
            <div class="item_air-status">
              <h2>Trạng thái</h2>
              <p>Đang Chạy</p>
            </div>
            <div class="item_air-tem">
              <h2>Nhiệt Độ</h2>
              <div class="item_air-data">
                <label for="">Thực Tế</label><input type="text" disabled />
                <label for="">Cài Đặt</label><input type="text" disabled />
              </div>
            </div>
            <div class="item_air-tem">
              <h2>Góc Mở</h2>
              <div class="item_air-data">
                <label for="">Thực Tế</label><input type="text" disabled />
                <label for="">Cài Đặt</label><input type="text" disabled />
              </div>
            </div>
            <div class="item_air-tem">
              <h2>T/Đ Quạt</h2>
              <div class="item_air-data">
                <label for="">Thực Tế</label><input type="text" disabled />
                <label for="">Cài Đặt</label><input type="text" disabled />
              </div>
            </div>
          </div>
        </div>
        <div class="system_item">
          <div class="system_item-air">
            <div class="item_air-title">
              <h2>Điều Hòa 2</h2>
            </div>
            <div class="item_air-status">
              <h2>Trạng thái</h2>
              <p>Đang Chạy</p>
            </div>
            <div class="item_air-tem">
              <h2>Nhiệt Độ</h2>
              <div class="item_air-data">
                <label for="">Thực Tế</label><input type="text" disabled />
                <label for="">Cài Đặt</label><input type="text" disabled />
              </div>
            </div>
            <div class="item_air-tem">
              <h2>Góc Mở</h2>
              <div class="item_air-data">
                <label for="">Thực Tế</label><input type="text" disabled />
                <label for="">Cài Đặt</label><input type="text" disabled />
              </div>
            </div>
            <div class="item_air-tem">
              <h2>T/Đ Quạt</h2>
              <div class="item_air-data">
                <label for="">Thực Tế</label><input type="text" disabled />
                <label for="">Cài Đặt</label><input type="text" disabled />
              </div>
            </div>
          </div>
        </div>
        <div class="system_item">
          <div class="system_item-air">
            <div class="item_air-title">
              <h2>Điều Hòa 3</h2>
            </div>
            <div class="item_air-status">
              <h2>Trạng thái</h2>
              <p>Đang Chạy</p>
            </div>
            <div class="item_air-tem">
              <h2>Nhiệt Độ</h2>
              <div class="item_air-data">
                <label for="">Thực Tế</label><input type="text" disabled />
                <label for="">Cài Đặt</label><input type="text" disabled />
              </div>
            </div>
            <div class="item_air-tem">
              <h2>Góc Mở</h2>
              <div class="item_air-data">
                <label for="">Thực Tế</label><input type="text" disabled />
                <label for="">Cài Đặt</label><input type="text" disabled />
              </div>
            </div>
            <div class="item_air-tem">
              <h2>T/Đ Quạt</h2>
              <div class="item_air-data">
                <label for="">Thực Tế</label><input type="text" disabled />
                <label for="">Cài Đặt</label><input type="text" disabled />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="home_chart">
        <div class="home_chart-tem">
          <h2>Biểu Đồ Nhiệt Độ</h2>
          <canvas id="myChart"></canvas>
          <script src="js/chart_tem.js"></script>
        </div>
        <div class="home_chart-room">
          <h2>Thông Số Phòng Foam</h2>
          <canvas id="chartRoom"></canvas>
          <script src="js/chart_room.js"></script>
        </div>
      </div>
    </div>
  </body>
</html>

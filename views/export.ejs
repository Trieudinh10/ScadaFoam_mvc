<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="css/export.css" />
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
    <script src="/js/fontawesome.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/font.css" />
    <script src="/js/jquery-3.6.0.min.js"></script>
    <script src="socket.io/socket.io.js"></script>
    <script src="/js/FC1_Common.js"></script>
    <script src="/js/FC4_du_lieu.js"></script>

    <title>Lưu Foam</title>
  </head>
  <body>
    <%- include('header.ejs'); -%> <%- include('loadding.ejs'); -%>

    <div class="export_container">
      <div id="Baocao">
        <div class="input_item">
          <label id="lb_Search_Start">Từ:</label>
          <input
            aria-label="input date"
            id="dtpk_Search_Start"
            type="datetime-local"
          />
        </div>
        <div class="input_item">
          <label id="lb_Search_End">Đến:</label>
          <input
            aria-label="input date"
            id="dtpk_Search_End"
            type="datetime-local"
          />
        </div>
        <div class="input_item_btn">
          <button id="btt_Search" onclick="fn_Table01_SQL_Show();" class="btn">
            TÌM KIẾM
          </button>
        </div>
        <div class="input_item_btn">
          <button
            id="btt_Excel"
            class="btn"
            onclick="fn_excel();
            "
          >
            BÁO CÁO
          </button>
        </div>
        <div class="change_btn" onclick="changeTable()"></div>
      </div>
      <div class="export_body">
        <div class="export_para">
          <div id="div_Table_01">
            <h2>Bảng Thông Số</h2>
            <table id="table_01">
              <thead>
                <tr>
                  <th class="th_time">Thời gian</th>
                  <th>Auto</th>
                  <th>Manual</th>
                  <th>Nhiệt độ phòng</th>
                  <th>Độ ẩm</th>
                  <th>Trạng thái máy lạnh 1</th>
                  <th>Nhiệt độ máy lạnh 1</th>
                  <th>Nhiệt độ tham chiếu máy lạnh 1</th>
                  <th>Trạng thái máy lạnh 2</th>
                  <th>Nhiệt độ máy lạnh 2</th>
                  <th>Nhiệt độ tham chiếu máy lạnh 2</th>
                  <th>Trạng thái máy lạnh 3</th>
                  <th>Nhiệt độ máy lạnh 3</th>
                  <th>Nhiệt độ tham chiếu máy lạnh 3</th>
                  <th>Thời gian cập nhật nhiệt độ</th>
                  <th>Biên độ nhiệt thấp</th>
                  <th>Biên độ nhiệt cao</th>
                  <th>Cảnh báo nhiệt độ</th>
                </tr>
              </thead>
              <tbody></tbody>
            </table>
          </div>
        </div>

        <div class="export_error">
          <div id="div_table_error">
            <h2>Bảng Báo Lỗi</h2>
            <table id="table_error">
              <thead>
                <tr>
                  <th class="th_time">Thời gian</th>

                  <th>Trạng Thái</th>

                  <th>Nhiệt Độ</th>

                  <th>Độ ẨM</th>

                  <th>Góc Mở</th>

                  <th>Tốc Độ Quạt</th>
                  <th>Thông Tin Lỗi/Cảnh Báo</th>
                </tr>
              </thead>
            </table>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    const body = document.querySelector(".export_para");
    const error = document.querySelector(".export_error");
    let changeBtn = true;
    const btnChange = document.querySelector(".change_btn");

    const changeTable = () => {
      if (btnChange.classList[1] === "change") {
        body.style.display = "block";
        error.style.display = "none";
        btnChange.classList.remove("change");
        changeBtn = true;
      } else {
        changeBtn = false;
        body.style.display = "none";
        error.style.display = "block";
        btnChange.classList.add("change");
      }
    };
  </script>
</html>
